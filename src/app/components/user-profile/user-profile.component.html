<div class="container">
  <div class="main-body">
    <!-- Breadcrumb -->
    <!-- <nav aria-label="breadcrumb" class="main-breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="javascript:void(0)">User</a></li>
        <li class="breadcrumb-item active" aria-current="page">User Profile</li>
      </ol>
    </nav> -->
    <!-- /Breadcrumb -->

    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div class="card">
          <div class="card-body">
            <div
              class="d-flex flex-column align-items-center text-center position-relative"
            >
              <img
                [src]="
                  user()?.picture ||
                  'https://bootdey.com/img/Content/avatar/avatar7.png'
                "
                alt="Admin"
                class="rounded-circle"
                width="150"
              />
              @if ( isMyProfile()) {
              <label for="uploadImage">
                <img
                  src="assets/images/edit.png"
                  alt="Admin"
                  class="rounded-circle position-absolute bg-white cursor-pointer"
                  style="top: 120px; right: 40px"
                  width="25"
                /> </label
              >}
              <input
                type="file"
                name="image"
                id="uploadImage"
                hidden
                (change)="changeImgFile($event)"
              />
              <div class="mt-3">
                <h3>{{ user()?.userName }}</h3>
                <p class="text-secondary mb-1">
                  {{ user()?.title }}
                </p>
                <p class="text-muted font-size-sm">
                  {{ user()?.address }}
                </p>
                <button class="btn btn-primary m-2">Follow</button>
                <button class="btn btn-outline-primary">Message</button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mt-3">
          <ul class="list-group list-group-flush">
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-globe mr-2 icon-inline"
                >
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="2" y1="12" x2="22" y2="12"></line>
                  <path
                    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
                  ></path>
                </svg>
                <!-- Website -->
              </h6>
              @if(!toggleLinkEdit()){

              <span class="text-secondary ps-2"
                >{{ user()?.links?.website }}
              </span>
              }@else {
              <input
                type="text"
                class="form-control"
                name="website"
                [(ngModel)]="userLinks().website"
              />
              }
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-github mr-2 icon-inline"
                >
                  <path
                    d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
                  ></path>
                </svg>
                <!-- Github -->
              </h6>
              @if(!toggleLinkEdit()){
              <span class="text-secondary">{{ user()?.links?.github }}</span>
              }@else {
              <input
                type="text"
                class="form-control"
                name="website"
                [(ngModel)]="userLinks().github"
              />
              }
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-twitter mr-2 icon-inline text-info"
                >
                  <path
                    d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"
                  ></path>
                </svg>
                <!-- Twitter -->
              </h6>
              @if(!toggleLinkEdit()){
              <span class="text-secondary">{{ user()?.links?.twitter }}</span>
              }@else {
              <input
                type="text"
                class="form-control"
                name="website"
                [(ngModel)]="userLinks().twitter"
              />
              }
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 64 64"
                  width="24"
                  height="24"
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                >
                  <linearGradient
                    id="SUJNhpmDQDF27Y3OfwgfYa"
                    x1="19"
                    x2="19"
                    y1="24.858"
                    y2="49.041"
                    gradientUnits="userSpaceOnUse"
                    spreadMethod="reflect"
                  >
                    <stop offset="0" stop-color="#6dc7ff" />
                    <stop offset="1" stop-color="#e6abff" />
                  </linearGradient>
                  <path
                    fill="url(#SUJNhpmDQDF27Y3OfwgfYa)"
                    fill-rule="evenodd"
                    d="M22 48L22 26 16 26 16 48 22 48z"
                    clip-rule="evenodd"
                  />
                  <linearGradient
                    id="SUJNhpmDQDF27Y3OfwgfYb"
                    x1="19.382"
                    x2="19.382"
                    y1="15.423"
                    y2="23.341"
                    gradientUnits="userSpaceOnUse"
                    spreadMethod="reflect"
                  >
                    <stop offset="0" stop-color="#6dc7ff" />
                    <stop offset="1" stop-color="#e6abff" />
                  </linearGradient>
                  <path
                    fill="url(#SUJNhpmDQDF27Y3OfwgfYb)"
                    fill-rule="evenodd"
                    d="M19.358,23c2.512,0,4.076-1.474,4.076-3.554 c-0.047-2.126-1.564-3.649-4.028-3.649c-2.465,0-4.076,1.475-4.076,3.601c0,2.08,1.563,3.602,3.981,3.602H19.358L19.358,23z"
                    clip-rule="evenodd"
                  />
                  <linearGradient
                    id="SUJNhpmDQDF27Y3OfwgfYc"
                    x1="37.386"
                    x2="37.386"
                    y1="14.125"
                    y2="49.525"
                    gradientUnits="userSpaceOnUse"
                    spreadMethod="reflect"
                  >
                    <stop offset="0" stop-color="#6dc7ff" />
                    <stop offset="1" stop-color="#e6abff" />
                  </linearGradient>
                  <path
                    fill="url(#SUJNhpmDQDF27Y3OfwgfYc)"
                    fill-rule="evenodd"
                    d="M26.946,48H34V35.911c0-0.648,0.122-1.295,0.313-1.758 c0.52-1.295,1.877-2.635,3.867-2.635c2.607,0,3.821,1.988,3.821,4.901V48h6V35.588c0-6.657-3.085-9.498-7.826-9.498 c-3.886,0-5.124,1.91-6.072,3.91H34v-4h-7.054c0.095,2-0.175,22-0.175,22H26.946z"
                    clip-rule="evenodd"
                  />
                  <linearGradient
                    id="SUJNhpmDQDF27Y3OfwgfYd"
                    x1="32"
                    x2="32"
                    y1="6.5"
                    y2="57.5"
                    gradientUnits="userSpaceOnUse"
                    spreadMethod="reflect"
                  >
                    <stop offset="0" stop-color="#1a6dff" />
                    <stop offset="1" stop-color="#c822ff" />
                  </linearGradient>
                  <path
                    fill="url(#SUJNhpmDQDF27Y3OfwgfYd)"
                    d="M50,57H14c-3.859,0-7-3.141-7-7V14c0-3.859,3.141-7,7-7h36c3.859,0,7,3.141,7,7v36 C57,53.859,53.859,57,50,57z M14,9c-2.757,0-5,2.243-5,5v36c0,2.757,2.243,5,5,5h36c2.757,0,5-2.243,5-5V14c0-2.757-2.243-5-5-5H14z"
                  />
                </svg>
                <!-- LinkedIn -->
              </h6>
              @if(!toggleLinkEdit()){
              <span class="text-secondary">{{ user()?.links?.linkedIn }}</span>
              }@else {
              <input
                type="text"
                class="form-control"
                name="website"
                [(ngModel)]="userLinks().linkedIn"
              />
              }
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-facebook mr-2 icon-inline text-primary"
                >
                  <path
                    d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"
                  ></path>
                </svg>
                <!-- Facebook -->
              </h6>
              @if(!toggleLinkEdit()){
              <span class="text-secondary">{{ user()?.links?.facebook }}</span>
              }@else {
              <input
                type="text"
                class="form-control"
                name="website"
                [(ngModel)]="userLinks().facebook"
              />
              }
            </li>
          </ul>
          <div class="row m-2">
            <div class="col-sm-12">
              @if(!toggleLinkEdit()){ @if ( isMyProfile()) {
              <button
                (click)="toggleLinkEdit.set(!toggleLinkEdit())"
                class="btn btn-info text-white"
                target="__blank"
              >
                Edit Links
              </button>
              } }@else {
              <div class="d-flex">
                <button
                  (click)="toggleLinkEdit.set(!toggleLinkEdit())"
                  class="btn btn-danger my-2"
                  target="__blank"
                >
                  cancel
                </button>
                <button
                  (click)="updateUserLinks()"
                  class="btn btn-success m-2 ms-3"
                  target="__blank"
                >
                  save
                </button>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-4"><h4 class="mb-0">Full Name</h4></div>
              <div class="col-sm-8 text-secondary">
                @if (toggleEdit()) {
                <input
                  type="text"
                  class="form-control"
                  name="userName"
                  [(ngModel)]="userName"
                />
                }@else {
                {{ user()?.userName }}}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-4"><h4 class="mb-0">Title</h4></div>
              <div class="col-sm-8 text-secondary">
                @if (toggleEdit()) {
                <input
                  type="text"
                  class="form-control"
                  name="title"
                  [(ngModel)]="title"
                />
                }@else { {{ user()?.title }}}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-4"><h4 class="mb-0">Department</h4></div>
              <div class="col-sm-8 text-secondary">
                @if (toggleEdit()) {
                <select
                  placeholder="your department"
                  class="form-control"
                  name="department"
                  [(ngModel)]="department"
                >
                  <!-- <option selected>select your department</option> -->
                  <option [value]="userDepartment.Developers">
                    Developers
                  </option>
                  <option [value]="userDepartment.Cyber">Cyber</option>
                  <option [value]="userDepartment.Marketing">Marketing</option>
                </select>

                }@else { {{ user()?.department }}}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-4"><h4 class="mb-0">Phone</h4></div>
              <div class="col-sm-8 text-secondary">
                @if (toggleEdit()) {
                <input
                  type="text"
                  class="form-control"
                  name="phone"
                  [(ngModel)]="phone"
                />
                }@else {
                {{ user()?.phone }}}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-4"><h4 class="mb-0">Birth Date</h4></div>
              <div class="col-sm-8 text-secondary">
                @if (toggleEdit()) {
                <input
                  type="date"
                  class="form-control"
                  name="birthDate"
                  [(ngModel)]="birthDate"
                />
                }@else {
                {{ user()?.birthDate }}}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-4"><h4 class="mb-0">Address</h4></div>
              <div class="col-sm-8 text-secondary">
                @if (toggleEdit()) {
                <input
                  type="text"
                  class="form-control"
                  name="address"
                  [(ngModel)]="address"
                />
                }@else {
                {{ user()?.address }}}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-12">
                @if(!toggleEdit()) { @if ( isMyProfile()) {
                <button
                  (click)="toggleEdit.set(!toggleEdit())"
                  class="btn btn-info"
                  target="__blank"
                >
                  Edit</button
                >}}@else {
                <button
                  (click)="toggleEdit.set(!toggleEdit())"
                  class="btn btn-danger"
                  target="__blank"
                >
                  cancel
                </button>
                <button
                  (click)="updateMainInfo()"
                  class="btn btn-success m-2 ms-3"
                  target="__blank"
                >
                  save</button
                >}
              </div>
            </div>
          </div>
        </div>

        <div class="row gutters-sm">
          <div class="col-sm-6 mb-3">
            <div class="card h-100">
              <div class="card-body">
                <h6 class="d-flex align-items-center mb-3">
                  <i class="material-icons text-info mr-2">assignment</i>Project
                  Status
                </h6>
                <small>Web Design</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 80%"
                    aria-valuenow="80"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>Website Markup</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 72%"
                    aria-valuenow="72"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>One Page</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 89%"
                    aria-valuenow="89"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>Mobile Template</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 55%"
                    aria-valuenow="55"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>Backend API</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 66%"
                    aria-valuenow="66"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-6 mb-3">
            <div class="card h-100">
              <div class="card-body">
                <h6 class="d-flex align-items-center mb-3">
                  <i class="material-icons text-info mr-2">assignment</i>Project
                  Status
                </h6>
                <small>Web Design</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 80%"
                    aria-valuenow="80"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>Website Markup</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 72%"
                    aria-valuenow="72"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>One Page</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 89%"
                    aria-valuenow="89"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>Mobile Template</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 55%"
                    aria-valuenow="55"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
                <small>Backend API</small>
                <div class="progress mb-3" style="height: 5px">
                  <div
                    class="progress-bar bg-primary"
                    role="progressbar"
                    style="width: 66%"
                    aria-valuenow="66"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  ></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
